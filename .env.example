# CotAI Platform - Environment Variables Template
# Copy this file to .env and update with your values

# ===================
# Environment
# ===================
NODE_ENV=development
GO_ENV=development
PYTHON_ENV=development
LOG_LEVEL=debug

# ===================
# Databases
# ===================
# Identity Database
DATABASE_IDENTITY_HOST=localhost
DATABASE_IDENTITY_PORT=5432
DATABASE_IDENTITY_NAME=cotai_identity
DATABASE_IDENTITY_USER=cotai_dev
DATABASE_IDENTITY_PASSWORD=dev_password
DATABASE_IDENTITY_URL=postgresql://cotai_dev:dev_password@localhost:5432/cotai_identity

# Core Database
DATABASE_CORE_HOST=localhost
DATABASE_CORE_PORT=5433
DATABASE_CORE_NAME=cotai_core
DATABASE_CORE_USER=cotai_dev
DATABASE_CORE_PASSWORD=dev_password
DATABASE_CORE_URL=postgresql://cotai_dev:dev_password@localhost:5433/cotai_core

# Resources Database
DATABASE_RESOURCES_HOST=localhost
DATABASE_RESOURCES_PORT=5434
DATABASE_RESOURCES_NAME=cotai_resources
DATABASE_RESOURCES_USER=cotai_dev
DATABASE_RESOURCES_PASSWORD=dev_password
DATABASE_RESOURCES_URL=postgresql://cotai_dev:dev_password@localhost:5434/cotai_resources

# Collaboration Database
DATABASE_COLLAB_HOST=localhost
DATABASE_COLLAB_PORT=5435
DATABASE_COLLAB_NAME=cotai_collab
DATABASE_COLLAB_USER=cotai_dev
DATABASE_COLLAB_PASSWORD=dev_password
DATABASE_COLLAB_URL=postgresql://cotai_dev:dev_password@localhost:5435/cotai_collab

# Connection Pool Settings
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=10

# ===================
# Redis
# ===================
REDIS_HOST=localhost
REDIS_PORT=6380
REDIS_PASSWORD=dev_password
REDIS_URL=redis://:dev_password@localhost:6380

# ===================
# RabbitMQ
# ===================
RABBITMQ_HOST=localhost
RABBITMQ_PORT=5672
RABBITMQ_USER=cotai_dev
RABBITMQ_PASSWORD=dev_password
RABBITMQ_VHOST=cotai
RABBITMQ_URL=amqp://cotai_dev:dev_password@localhost:5672/cotai
RABBITMQ_MANAGEMENT_URL=http://localhost:15672

# ===================
# Kafka
# ===================
KAFKA_BROKERS=localhost:9092
KAFKA_CLIENT_ID=cotai-dev
KAFKA_GROUP_ID=cotai-dev-group

# ===================
# Object Storage (MinIO/S3)
# ===================
S3_ENDPOINT=http://localhost:9000
S3_ACCESS_KEY_ID=cotai_dev
S3_SECRET_ACCESS_KEY=dev_password
S3_BUCKET_EDITAIS=editais
S3_BUCKET_OCR=ocr-results
S3_BUCKET_AUDIT=audit-logs
S3_REGION=us-east-1
S3_USE_PATH_STYLE=true

# ===================
# Elasticsearch
# ===================
ELASTICSEARCH_URL=http://localhost:9200
ELASTICSEARCH_USERNAME=
ELASTICSEARCH_PASSWORD=

# ===================
# Authentication (Keycloak)
# ===================
KEYCLOAK_URL=http://localhost:8080
KEYCLOAK_REALM=cotai
KEYCLOAK_CLIENT_ID=cotai-dev
KEYCLOAK_CLIENT_SECRET=CHANGE_ME
KEYCLOAK_ADMIN_USER=admin
KEYCLOAK_ADMIN_PASSWORD=admin

# JWT Configuration
JWT_SECRET=CHANGE_ME_TO_RANDOM_256_BIT_SECRET
JWT_EXPIRES_IN=1h
JWT_REFRESH_EXPIRES_IN=7d

# ===================
# Observability
# ===================
# Prometheus
PROMETHEUS_URL=http://localhost:9090

# Grafana
GRAFANA_URL=http://localhost:3000
GRAFANA_USER=admin
GRAFANA_PASSWORD=admin

# Jaeger
JAEGER_AGENT_HOST=localhost
JAEGER_AGENT_PORT=6831
JAEGER_COLLECTOR_ENDPOINT=http://localhost:14268/api/traces
JAEGER_UI_URL=http://localhost:16686
JAEGER_SAMPLER_TYPE=probabilistic
JAEGER_SAMPLER_PARAM=0.1

# ===================
# External APIs
# ===================
# PNCP API
PNCP_API_URL=https://pncp.gov.br/api/consulta/v1
PNCP_API_TIMEOUT=30000

# ComprasNet API
COMPRASNET_API_URL=https://comprasnet.gov.br/api
COMPRASNET_API_KEY=CHANGE_ME

# ===================
# OCR/NLP Services
# ===================
# Tesseract
TESSERACT_LANG=por
TESSERACT_PSM=3

# AWS Textract (se usar)
AWS_TEXTRACT_ENABLED=false
AWS_ACCESS_KEY_ID=CHANGE_ME
AWS_SECRET_ACCESS_KEY=CHANGE_ME
AWS_REGION=us-east-1

# spaCy
SPACY_MODEL=pt_core_news_lg

# ===================
# Email (para notifications)
# ===================
# AWS SES
SES_REGION=us-east-1
SES_FROM_EMAIL=noreply@cotai.com.br

# SMTP (alternativa)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM=noreply@cotai.com.br

# ===================
# SMS (Twilio - opcional)
# ===================
TWILIO_ACCOUNT_SID=CHANGE_ME
TWILIO_AUTH_TOKEN=CHANGE_ME
TWILIO_FROM_NUMBER=+15551234567

# ===================
# Push Notifications (Firebase)
# ===================
FIREBASE_PROJECT_ID=cotai-dev
FIREBASE_PRIVATE_KEY=CHANGE_ME
FIREBASE_CLIENT_EMAIL=firebase-adminsdk@cotai-dev.iam.gserviceaccount.com

# ===================
# Application Ports
# ===================
# Identity Services
AUTH_SERVICE_PORT=3001
TENANT_MANAGER_PORT=50051
AUDIT_SERVICE_PORT=3002

# Acquisition Services
SCHEDULER_SERVICE_PORT=3010
CRAWLER_WORKERS_PORT=3011
NORMALIZER_SERVICE_PORT=3012

# Core Bidding Services
WORKFLOW_ENGINE_PORT=50052
OCR_NLP_SERVICE_PORT=3020
DATA_EXTRACTOR_PORT=3021
KANBAN_API_PORT=3022

# Resources Services
CRM_SERVICE_PORT=3030
QUOTE_SERVICE_PORT=3031
STOCK_SERVICE_PORT=3032

# Collaboration Services
NOTIFICATION_SERVICE_PORT=3040
CHAT_SERVICE_PORT=3041
AGENDA_SERVICE_PORT=3042

# Edge Services
API_GATEWAY_PORT=8000
FRONTEND_PORT=3050

# ===================
# Feature Flags
# ===================
FEATURE_MULTI_TENANT=true
FEATURE_OCR_TEXTRACT=false
FEATURE_REAL_TIME_CHAT=true
FEATURE_EMAIL_NOTIFICATIONS=true
FEATURE_SMS_NOTIFICATIONS=false
FEATURE_PUSH_NOTIFICATIONS=true

# ===================
# Rate Limiting
# ===================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# ===================
# CORS
# ===================
CORS_ORIGIN=http://localhost:3050,http://localhost:3000
CORS_CREDENTIALS=true

# ===================
# Multi-Tenancy
# ===================
DEFAULT_TENANT_ID=default
TENANT_SCHEMA_PREFIX=tenant_

# ===================
# Workflow Settings
# ===================
OCR_TIMEOUT_MS=300000
NLP_TIMEOUT_MS=60000
CRAWLER_TIMEOUT_MS=30000
QUOTE_SLA_HOURS=48
